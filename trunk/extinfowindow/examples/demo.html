<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<title>ExtInfoWindow Example</title>

<link type="text/css" rel="Stylesheet" media="screen" href="css/redInfoWindow.css"/>
<link type="text/css" rel="Stylesheet" media="screen" href="css/blueInfoWindow.css"/>
<link type="text/css" rel="Stylesheet" media="screen" href="css/bubbleInfoWindow.css"/>

<style>
	#map{
		width: 500px;
		height: 400px;
	}
	#demo_explanation{
		background-color: #DDD;
		clear: left;
		float: left;
		font-size: 12px;
		width: 500px;
		margin: 2px 0;
	}
	#demo_explanation ul{
		list-style-type: none;
		padding-left: 5px;
	}
	#demo_explanation li img{
		vertical-align: middle;
		margin: 3px 0;
	}
</style>

<script type="text/javascript" 
	src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAAjU0EJWnWPMv7oQ-jjS7dYxQGj0PqsCtxKvarsoS-iqLdqZSKfxRdmoPmGl7Y9335WLC36wIGYa6o5Q">
</script>
<script src="../src/extinfowindow.js" type="text/javascript"></script>
<script type="text/javascript">

var map;

function load() {
	if (GBrowserIsCompatible()) {
		map = new GMap2(document.getElementById("map"));
		map.setCenter(new GLatLng(39, -96), 3);
		map.addControl(new GLargeMapControl());

		//default google marker with a regular html info window
		defaultMarker = new GMarker( new GLatLng(35, -103));
		GEvent.addListener(defaultMarker, 'click', function(){ 
			defaultMarker.openInfoWindowHtml(
				"I'm a default Google info window with HTML content."
			); 
		});
		map.addOverlay(defaultMarker);

		//marker with ext info window with a red skin
		var redIcon1 = new GIcon(G_DEFAULT_ICON);
		redIcon1.image = "http://gmaps-samples.googlecode.com/svn/trunk/markers/red/marker1.png";
		redIcon1.iconAnchor = new GPoint(0, 0);
		redIcon1.infoWindowAnchor = new GPoint(0, 0 );

		marker = new GMarker( new GLatLng(43, -110), redIcon1);
		GEvent.addListener(marker, 'click', function(){ 
			marker.openExtInfoWindow(
				"custom_info_window_red",
				"<p>I'm a red ExtInfoWindow with HTML content.</p>",
				{beakOffset: 3}
			); 
		});
		map.addOverlay(marker);


		//marker with ext info window with a talking bubble skin
		var redIcon2 = new GIcon(G_DEFAULT_ICON);
		redIcon2.image = "http://gmaps-samples.googlecode.com/svn/trunk/markers/red/marker2.png";
		redIcon2.iconAnchor = new GPoint(0, 0);
		redIcon2.infoWindowAnchor = new GPoint(0, 0 );
		marker2 = new GMarker( new GLatLng(43, -100), redIcon2);
		GEvent.addListener(marker2, 'click', function(){ 
			marker2.openExtInfoWindow(
				"custom_info_window_bubble",
				"<p>I'm an ExtInfoWindow styled to look like a talking bubble.</p>",
				{beakOffset: 2}
			); 
		});
		map.addOverlay(marker2);

		//marker with ext info window with Ajax contents and red skin
		var redIcon3 = new GIcon(G_DEFAULT_ICON);
		redIcon3.image = "http://gmaps-samples.googlecode.com/svn/trunk/markers/red/marker3.png";
		redIcon3.iconAnchor = new GPoint(0, 0);
		redIcon3.infoWindowAnchor = new GPoint(10,34);
		marker3 = new GMarker( new GLatLng(43, -90), redIcon3);
		GEvent.addListener(marker3, 'click', function(){ 
			marker3.openExtInfoWindow(
				"custom_info_window_red",
				"Loading...",
				{ajaxUrl: "ajax/ajaxTest.html", beakOffset: 3}
			); 
		});
		map.addOverlay(marker3);

	}
}
</script>
</head>
<body onload="load()" onunload="GUnload()">

<div id="map"></div>
<div id="demo_explanation">
	<h2>Demo Explanation</h2>
	<ul>
		<li>
			<img src="http://gmaps-samples.googlecode.com/svn/trunk/markers/red/marker1.png" 
			/> = ExtInfoWindow with a red theme
		</li>
		<li>
			<img src="http://gmaps-samples.googlecode.com/svn/trunk/markers/red/marker2.png" 
			/> = ExtInfoWindow with a talking bubble theme
		</li>
		<li>
			<img src="http://gmaps-samples.googlecode.com/svn/trunk/markers/red/marker3.png" 
			/> = ExtInfoWindow with a red theme and content pulled from ajax request to "ajax/ajaxTest.html"
		</li>
	</ul>
</div>

</body>
</html>