<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>Google Maps JavaScript API Example</title>

	<link type="text/css" rel="Stylesheet" media="screen" href="css/redInfoWindow.css"/>
	<link type="text/css" rel="Stylesheet" media="screen" href="css/blueInfoWindow.css"/>
	<link type="text/css" rel="Stylesheet" media="screen" href="css/bubbleInfoWindow.css"/>

    <script type="text/javascript" src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAAjU0EJWnWPMv7oQ-jjS7dYxQGj0PqsCtxKvarsoS-iqLdqZSKfxRdmoPmGl7Y9335WLC36wIGYa6o5Q"></script>
	<script src="../src/extinfowindow.js" type="text/javascript"></script>

    <script type="text/javascript">
		function load() {
		  if (GBrowserIsCompatible()) {
			map2 = new GMap2(document.getElementById("map"));
			map2.setCenter(new GLatLng(39, -96), 4);
			map2.addControl(new GLargeMapControl());
			
			//default google marker with a regular html info window
			defaultMarker = new GMarker( new GLatLng(35, -103));
			GEvent.addListener(defaultMarker, 'click', 
				function(){ 
					defaultMarker.openInfoWindowHtml(
							"I'm a default Google info window with HTML content."
					); 
				} );
			map2.addOverlay(defaultMarker);

			
			//marker with ext info window with a red skin
			var redIcon1 = new GIcon(G_DEFAULT_ICON);
			redIcon1.image = "http://gmaps-samples.googlecode.com/svn/trunk/markers/red/marker1.png";
			redIcon1.iconAnchor = new GPoint(0, 0);
			redIcon1.infoWindowAnchor = new GPoint(10, 0 );

		 	marker = new GMarker( new GLatLng(43, -110), redIcon1);
			GEvent.addListener(marker, 'click', 
				function(){ 
					marker.openExtInfoWindow(
							map2,
							"custom_info_window_red",
							"<div class='title'>Some Title</div>"+
							"<p>I'm a red custom info window with HTML content and a red title bar.</p>",
							{beakOffset: 3, ajaxUrl: 'ajax/ajaxTabs.html'}
					); 
				} );
			GEvent.addListener(map2, 'extinfowindowupdate',
				function(){
					var contentToChange = document.getElementById("custom_info_window_red_contents");
					console.log(contentToChange.innerHTML	);
			});
			map2.addOverlay(marker);
			
		  }
		}
		
    </script>
  </head>
  <body onload="load()" onunload="GUnload()">
    <div id="map" style="width: 700px; height: 600px; float:left;"></div>
  </body>
</html>