<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>Google Maps JavaScript API Example</title>
    <style type="text/css">
    v\:* {
      behavior:url(#default#VML);
    }
    </style>
    <link rel="stylesheet" type="text/css" href="http://www.google.com/apis/maps/documentation/local_extensions.css" />
    <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAAjU0EJWnWPMv7oQ-jjS7dYxQGj0PqsCtxKvarsoS-iqLdqZSKfxRdmoPmGl7Y9335WLC36wIGYa6o5Q"
      type="text/javascript"></script>
    <script src="../src/gzoom.js" type="text/javascript"></script>
    <script src="http://www.google.com/apis/maps/include/prettify.js" type="text/javascript"></script>
 
<script type="text/javascript">
   //<![CDATA[

   var map;
   var zcontrol;

   function load() {
     if (GBrowserIsCompatible()) {
       map = new GMap2(document.getElementById("map"));
       map.setCenter(new GLatLng(40.713955826286046,-35.15625), 2);
       updateCode();
     }
   }

   function updateCode() {
     map.clearOverlays();
     if (zcontrol) {
       map.removeControl(zcontrol);
     }
     var code = [];
     code.push("var styleOpts = {};");
     code.push("var otherOpts = {};");
     var val_opacity = parseFloat(el("opt_opacity").value);
     code.push("styleOpts.opacity = " + val_opacity + ";");

     var val_border = el("opt_border").value;
     code.push("styleOpts.border = '" + val_border + "';");

     var val_fillColor = el("opt_fillColor").value;
     code.push("styleOpts.fillColor = '" + val_fillColor + "';");


     if (el("opt_stickyZoomEnabled").checked) {
       code.push("otherOpts.stickyZoomEnabled = true;"); 
     }
     if (el("opt_buttonHTML").value != 'zoom...') {
       code.push("otherOpts.buttonHTML = '" + el("opt_buttonHTML").value + "';");
     }
     if (el("opt_buttonZoomingHTML").value != 'Drag a region on the map') {
       code.push("otherOpts.buttonZoomingHTML = '" + el("opt_buttonZoomingHTML").value + "';");
     }
     var val_overlayRemoveTime = parseInt(el("opt_overlayRemoveTime").value);
     if(val_overlayRemoveTime != 6000) {
       code.push("otherOpts.overlayRemoveTime = " + val_overlayRemoveTime + ";");
     }

     code.push("zcontrol = new GZoomControl(styleOpts, otherOpts, {});");
     
     /*
     var opts = [];

     var val_title = el("opt_title").value;
     if (val_title) {
       opts.push("title: \"" + val_title + "\"");
     }

     var val_icon = el("opt_icon").value;

     if (el("opt_clickable").checked) {

       if (el("opt_draggable").checked) {
         opts.push("draggable: true");

         if (el("opt_bouncy").checked) {
           var val_bounceGravity = parseFloat(el("opt_bounceGravity").value);
           if (val_bounceGravity != 1.0) {
             opts.push("bounceGravity: " + val_bounceGravity + "");
           }
         } else {
           opts.push("bouncy: false");
         }

         if (el("opt_dragCrossMove").checked) {
           opts.push("dragCrossMove: true");
         }
       }
     } else {
       opts.push("clickable: false");
     }

     if (opts.length) {
       code.push("var options = { <br/>"
                + opts.join(",<br/>") + "<br/>"
                + "};");
     }
     code.push("var marker = new GMarker(point" +
         (opts.length ? ", options" : "") + ");");

     code.push("map.addOverlay(marker);");
     */
     code.push("map.addControl(zcontrol);");
     
     var codeHTML = code.join("<br/><br/>");
     el("code").innerHTML = codeHTML;

     var codeJS = codeHTML.replace(/<br\/>/g,"\n");
     eval(codeJS);

     prettyPrint();
   }

   function el(id) {
     return document.getElementById(id);
   }

   //]]>
   </script>

 </head>

 <body onload="load()" onunload="GUnload()">

   stickyZoomEnabled:<input type="checkbox" id="opt_stickyZoomEnabled" onclick="updateCode()"/>
   &nbsp;

   buttonHTML: <input type="text" id="opt_buttonHTML" onblur="updateCode()" value="zoom..."/>
   &nbsp;

   buttonZoomingHTML: <input type="text" id="opt_buttonZoomingHTML" onblur="updateCode()" value="Drag a region on the map"/>
   &nbsp;

   overlayRemoveTime: <input type="text" id="opt_overlayRemoveTime" onblur="updateCode()" value="6000"/>
   &nbsp;

   <br/>
   fillColor: <input type="text" id="opt_fillColor" onblur="updateCode()" value="#FF0000"/>

   border: <input type="text" id="opt_border" onblur="updateCode()" value="2px solid black"/>

   &nbsp;
   opacity:
     <select id="opt_opacity" onchange="updateCode()">
       <option value="1.0" SELECTED>1.0</option>
       <option value="0.8">0.8</option>
       <option value="0.6">0.6</option>
       <option value="0.4">0.4</option>
       <option value="0.2">0.2</option>
       <option value="0.0">0.0</option>
  </select>
   <br/><br/>

    <div id="map" style="width: 500px; height: 250px"></div>

    <pre class="prettyprint" id="code" style="width:500px; overflow:auto;"></pre>

   </table>

 </body>
</html>

