<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>Google Maps JavaScript API Example</title>
    <style type="text/css">
    v\:* {
      behavior:url(#default#VML);
    }
    </style>
    <link rel="stylesheet" type="text/css" href="http://www.google.com/apis/maps/documentation/local_extensions.css" />
    <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAAjU0EJWnWPMv7oQ-jjS7dYxQGj0PqsCtxKvarsoS-iqLdqZSKfxRdmoPmGl7Y9335WLC36wIGYa6o5Q"
      type="text/javascript"></script>
    <script src="../src/gzoom.js" type="text/javascript"></script>
    <script src="http://www.google.com/apis/maps/include/prettify.js" type="text/javascript"></script>
 
<script type="text/javascript">
   //<![CDATA[

   var map;
   var zcontrol;

   function load() {
     if (GBrowserIsCompatible()) {
       map = new GMap2(document.getElementById("map"));
       map.addControl(new GSmallMapControl());
       map.setCenter(new GLatLng(40.713955826286046,-35.15625), 2);
       updateCode();
     }
   }

   function updateCode() {
     map.clearOverlays();
     if (zcontrol) {
       zcontrol.initStyles_();
       GZoomControl.globals.mc.style.display = 'none';
       map.removeControl(zcontrol);
     }
     var code = [];
     code.push("var styleOpts = {};");
     code.push("var otherOpts = {};");
     var val_opacity = parseFloat(el("opt_opacity").value);
     code.push("styleOpts.opacity = " + val_opacity + ";");

     var val_border = el("opt_border").value;
     code.push("styleOpts.border = '" + val_border + "';");

     var val_fillColor = el("opt_fillColor").value;
     code.push("styleOpts.fillColor = '" + val_fillColor + "';");


     if (el("opt_stickyZoomEnabled").checked) {
       code.push("otherOpts.stickyZoomEnabled = true;"); 
     }
     if (el("opt_buttonHTML").value != 'zoom...') {
       code.push("otherOpts.buttonHTML = '" + el("opt_buttonHTML").value + "';");
     }
     if (el("opt_buttonZoomingHTML").value != 'Drag a region on the map') {
       code.push("otherOpts.buttonZoomingHTML = '" + el("opt_buttonZoomingHTML").value + "';");
     }
     var val_overlayRemoveTime = parseInt(el("opt_overlayRemoveTime").value);
     if(val_overlayRemoveTime != 6000) {
       code.push("otherOpts.overlayRemoveTime = " + val_overlayRemoveTime + ";");
     }

     if (el("opt_buttonStyle").value != "{background: '#FFF'}") {
       code.push("otherOpts.buttonStyle = " + el("opt_buttonStyle").value + ";");
     }

     if (el("opt_buttonStartingStyle").value != "{width: '52px', border: '1px solid black', padding: '5px'}") {
       code.push("otherOpts.buttonStartingStyle = " + el("opt_buttonStartingStyle").value + ";");
     }

     if (el("opt_buttonZoomingStyle").value != "{background: '#FF0'}") {
       code.push("otherOpts.buttonZoomingStyle = " + el("opt_buttonZoomingStyle").value + ";");
     }

     code.push("zcontrol = new GZoomControl(styleOpts, otherOpts, {});");
     
     code.push("map.addControl(zcontrol);");
     
     var codeHTML = code.join("<br/><br/>");
     el("code").innerHTML = codeHTML;

     var codeJS = codeHTML.replace(/<br\/>/g,"\n");
     eval(codeJS);

     prettyPrint();
   }

   function el(id) {
     return document.getElementById(id);
   }

   //]]>
   </script>

 </head>

 <body onload="load()" onunload="GUnload()">


   <br/>
   fillColor: <input type="text" id="opt_fillColor" onblur="updateCode()" value="#FF0000"/>

   border: <input type="text" id="opt_border" onblur="updateCode()" value="2px solid black"/>

   &nbsp;
   opacity:
     <select id="opt_opacity" onchange="updateCode()">
       <option value="1.0" SELECTED>1.0</option>
       <option value="0.8">0.8</option>
       <option value="0.6">0.6</option>
       <option value="0.4">0.4</option>
       <option value="0.2">0.2</option>
       <option value="0.0">0.0</option>
  </select>
   <br/><br/>
 
   buttonHTML: <input type="text" id="opt_buttonHTML" onblur="updateCode()" value="zoom..."/>
   &nbsp;

   buttonZoomingHTML: <input type="text" id="opt_buttonZoomingHTML" onblur="updateCode()" value="Drag a region on the map"/>
   &nbsp;

   <br/><br/>

   stickyZoomEnabled:<input type="checkbox" id="opt_stickyZoomEnabled" onclick="updateCode()"/>
   &nbsp;

   overlayRemoveTime: <input type="text" id="opt_overlayRemoveTime" onblur="updateCode()" value="6000"/>
   &nbsp;

   <br/><br/>

   buttonStyle: <input type="text" id="opt_buttonStyle" onblur="updateCode()" value="{background: '#FFF'}"/>
   &nbsp;

   buttonStartingStyle: <input type="text" id="opt_buttonStartingStyle" onblur="updateCode()" value="{width: '52px', border: '1px solid black', padding: '2px'}"/>
   &nbsp;

   buttonZoomingStyle: <input type="text" id="opt_buttonZoomingStyle" onblur="updateCode()" value="{background: '#FF0'}"/>
   &nbsp;
   <br/><br/>
    <div id="map" style="width: 500px; height: 250px"></div>

    <pre class="prettyprint" id="code" style="width:500px; overflow:auto;"></pre>

   </table>

 </body>
</html>

